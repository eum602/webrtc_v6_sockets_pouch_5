{"ast":null,"code":"import _objectSpread from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/src/pages/CreateTransaction.js\";\nimport React, { Component } from 'react';\nimport { Menu, Button, Header, Grid, Input } from \"semantic-ui-react\";\nimport Layout from '../Style/Layout';\nimport { Link } from 'react-router-dom';\nimport Blockchain from '../Blockchain/Blockchain';\nimport PendingTransactions from '../Blockchain/PendingTransactions';\n\nvar CreateTransaction =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateTransaction, _Component);\n\n  function CreateTransaction() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateTransaction);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateTransaction)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      data: new Array(5),\n      blockchain: new Blockchain(),\n      storedTx: null\n    };\n\n    _this.setData = function (order, e) {\n      var data = _this.state.data;\n      var value = e.target.value;\n      data[order] = value;\n\n      _this.setState({\n        data: data\n      });\n    };\n\n    _this.createTx = function () {\n      var newTx = _toConsumableArray(_this.state.data);\n\n      var Tx = {\n        \"amount\": newTx[0],\n        \"sender\": newTx[1],\n        \"recipient\": newTx[2],\n        \"value4\": newTx[3],\n        \"value5\": newTx[4]\n      };\n      new Promise(function (resolve, reject) {\n        resolve(_this.state.blockchain.createNewTransaction(Tx));\n        reject('Error when triying to create a new Transaction');\n      }).then(function (response) {\n        console.log('Respuesta desde el servidor: ', response);\n\n        _this.setState({\n          storedTx: _objectSpread({}, response)\n        });\n      }).catch(function (error) {\n        console.log('error trying to post a Transaction: ', error);\n      });\n    };\n\n    _this.header = function () {\n      if (_this.state.storedTx === null) {\n        return React.createElement(Menu, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, React.createElement(Button, {\n          content: \"Create Transaction\",\n          icon: \"add circle\",\n          labelPosition: \"left\",\n          floated: \"left\",\n          primary: true,\n          onClick: _this.createTx,\n          disabled: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }), React.createElement(Menu.Menu, {\n          position: \"right\",\n          style: {\n            marginBottom: \"1px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/operations/mineBlock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Button, {\n          content: \"Operations\",\n          icon: \"add circle\",\n          labelPosition: \"right\",\n          floated: \"right\",\n          primary: true,\n          disabled: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }))));\n      }\n    };\n\n    _this.headerOutput = function () {\n      if (_this.state.storedTx !== null) {\n        return React.createElement(Menu, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(Button, {\n          content: \"Create another Transaction\",\n          icon: \"add circle\",\n          labelPosition: \"left\",\n          floated: \"left\",\n          primary: true,\n          onClick: _this.resetToCreateHandler,\n          disabled: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }), React.createElement(Menu.Menu, {\n          position: \"right\",\n          style: {\n            marginBottom: \"1px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/operations/mineBlock\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(Button, {\n          content: \"Operations\",\n          icon: \"add circle\",\n          labelPosition: \"right\",\n          floated: \"right\",\n          primary: true,\n          disabled: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }))));\n      }\n    };\n\n    _this.inputTx = function () {\n      if (_this.state.storedTx === null) {\n        return React.createElement(Menu, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          columns: 3,\n          style: {\n            marginRight: \"-80px\",\n            marginLeft: \"2px\",\n            marginTop: \"1px\",\n            marginBottom: \"1px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(Grid.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \" \", React.createElement(Grid, {\n          columns: 1,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(Header, {\n          as: \"h5\",\n          style: {\n            marginBottom: \"-20px\",\n            marginLeft: \"20px\",\n            marginTop: \"1px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, \"DataSet 1:\")), \" \"), React.createElement(Grid.Row, {\n          style: {\n            marginTop: \"2px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }, React.createElement(Grid.Column, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(Input, {\n          label: \"Tx-data1\",\n          labelPosition: \"left\",\n          placeholder: \"enter data\",\n          onChange: function onChange(e) {\n            return _this.setData(0, e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        })), React.createElement(Grid.Column, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(Input, {\n          label: \"Tx-data2\",\n          labelPosition: \"left\",\n          placeholder: \"enter data\",\n          onChange: function onChange(e) {\n            return _this.setData(1, e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        })), React.createElement(Grid.Column, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(Input, {\n          label: \"Tx-data3\",\n          labelPosition: \"left\",\n          placeholder: \"enter data\",\n          onChange: function onChange(e) {\n            return _this.setData(2, e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }))), React.createElement(Grid.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(Grid.Column, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, React.createElement(Input, {\n          label: \"Tx-data4\",\n          labelPosition: \"left\",\n          placeholder: \"enter data\",\n          onChange: function onChange(e) {\n            return _this.setData(3, e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        })), React.createElement(Grid.Column, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(Input, {\n          label: \"Tx-data5\",\n          labelPosition: \"left\",\n          placeholder: \"enter data\",\n          onChange: function onChange(e) {\n            return _this.setData(4, e);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        })))));\n      }\n    };\n\n    _this.outputTx = function () {\n      if (_this.state.storedTx !== null) {\n        console.log('storedTx en outputTx: ', _this.state.storedTx);\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, \"New Transaction created:\"), React.createElement(PendingTransactions, {\n          pending_transactions: [_this.state.storedTx],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }));\n      }\n    };\n\n    _this.resetToCreateHandler = function () {\n      _this.setState({\n        storedTx: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(CreateTransaction, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          marginTop: \"10px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, this.header(), this.resetToCreateHandler(), this.inputTx(), this.outputTx()));\n    }\n  }]);\n\n  return CreateTransaction;\n}(Component);\n\nexport default CreateTransaction;","map":{"version":3,"sources":["/home/usuario1/Desktop/projects_P2P/webrtc_v6_sockets_pouch_4/webrtc/src/pages/CreateTransaction.js"],"names":["React","Component","Menu","Button","Header","Grid","Input","Layout","Link","Blockchain","PendingTransactions","CreateTransaction","state","data","Array","blockchain","storedTx","setData","order","e","value","target","setState","createTx","newTx","Tx","Promise","resolve","reject","createNewTransaction","then","response","console","log","catch","error","header","marginBottom","headerOutput","resetToCreateHandler","inputTx","marginRight","marginLeft","marginTop","outputTx"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {Menu,Button,Header,Grid,Input} from \"semantic-ui-react\"\nimport Layout from '../Style/Layout'\nimport { Link } from 'react-router-dom'\nimport Blockchain from '../Blockchain/Blockchain'\nimport PendingTransactions from '../Blockchain/PendingTransactions';\nclass CreateTransaction extends Component {\n    state={\n        data : new Array(5),\n        blockchain: new Blockchain(),\n        storedTx:null\n    }\n\n    setData = (order,e) => {        \n        let data = this.state.data\n        const value = e.target.value\n        data[order]=value\n        this.setState({data})\n      }\n\n    createTx = () => {   \n        const newTx = [...this.state.data]\n        const Tx = {\n            \"amount\":newTx[0],\n            \"sender\":newTx[1],\n            \"recipient\":newTx[2],\n            \"value4\":newTx[3],\n            \"value5\":newTx[4]\n        }\n        new Promise((resolve, reject)=>{\n            resolve(this.state.blockchain.createNewTransaction(Tx))\n            reject('Error when triying to create a new Transaction')\n        })\n        .then( response =>{\n            console.log('Respuesta desde el servidor: ',response)\n            this.setState({storedTx:{...response}})            \n        })\n        .catch( error => {\n            console.log('error trying to post a Transaction: ',error);\n        })\n        \n    }\n\n    header = () => {\n        if(this.state.storedTx===null){\n            return(\n                <Menu>\n                    <Button\n                    content=\"Create Transaction\"\n                    icon=\"add circle\"\n                    labelPosition=\"left\"\n                    floated=\"left\"\n                    primary\n                    onClick={this.createTx}\n                    disabled = {false}\n                        />\n\n                    \n                    <Menu.Menu position = \"right\" style={{ marginBottom: \"1px\" }} >      \n                        <Link to=\"/operations/mineBlock\">                        \n                            <Button\n                            content=\"Operations\"\n                            icon=\"add circle\"\n                            labelPosition=\"right\"\n                            floated=\"right\"\n                            primary            \n                            disabled = {false}\n                            />                        \n                        </Link>\n                    </Menu.Menu>\n                </Menu>\n            )\n        }\n    }\n\n    headerOutput = () => {\n        if(this.state.storedTx !== null) {\n            return(\n                <Menu>\n                    <Button\n                    content=\"Create another Transaction\"\n                    icon=\"add circle\"\n                    labelPosition=\"left\"\n                    floated=\"left\"\n                    primary\n                    onClick={this.resetToCreateHandler}\n                    disabled = {false}\n                        />\n\n                    \n                    <Menu.Menu position = \"right\" style={{ marginBottom: \"1px\" }} >      \n                        <Link to=\"/operations/mineBlock\">                        \n                            <Button\n                            content=\"Operations\"\n                            icon=\"add circle\"\n                            labelPosition=\"right\"\n                            floated=\"right\"\n                            primary            \n                            disabled = {false}\n                            />                        \n                        </Link>\n                    </Menu.Menu>\n                </Menu>\n            )\n        }\n    }\n    \n    inputTx =  () => {\n        if(this.state.storedTx === null){\n            return(\n                <Menu>      \n                    <Grid columns={3} style={{marginRight:\"-80px\",marginLeft:\"2px\",marginTop:\"1px\", marginBottom:\"1px\" }} >\n                        <Grid.Row> <Grid columns={1}><Header as='h5' style={{marginBottom:\"-20px\",marginLeft:\"20px\",marginTop:\"1px\"}} >\n                        DataSet 1:</Header></Grid> </Grid.Row>\n                        \n                        <Grid.Row style={{marginTop:\"2px\"}}>   \n                        <Grid.Column>   \n                            <Input label =\"Tx-data1\" labelPosition='left' placeholder=\"enter data\"\n                            onChange={e=>this.setData(0,e)} ></Input>\n                        </Grid.Column>\n                        <Grid.Column>            \n                            <Input label =\"Tx-data2\" labelPosition='left' placeholder=\"enter data\"\n                            onChange={e=>this.setData(1,e)} ></Input>\n                        </Grid.Column>\n                        <Grid.Column>            \n                            <Input label =\"Tx-data3\" labelPosition='left' placeholder=\"enter data\"\n                            onChange={e=>this.setData(2,e)} ></Input>\n                        </Grid.Column>\n                        </Grid.Row>\n                        <Grid.Row>          \n                        <Grid.Column>            \n                            <Input label =\"Tx-data4\" labelPosition='left' placeholder=\"enter data\"\n                            onChange={e=>this.setData(3,e)} ></Input>\n                        </Grid.Column>\n                        <Grid.Column>           \n                            <Input label =\"Tx-data5\" labelPosition='left' placeholder=\"enter data\"\n                            onChange={e=>this.setData(4,e)} ></Input>\n                        </Grid.Column>\n                        </Grid.Row>         \n                    </Grid>\n                </Menu>\n            )\n        }\n    }\n\n    outputTx = () => {\n        \n        if(this.state.storedTx!==null){\n            console.log('storedTx en outputTx: ',this.state.storedTx)\n            return(\n                <div>\n                    <h2>New Transaction created:</h2>\n                    <PendingTransactions pending_transactions={[this.state.storedTx]} />\n                </div>\n            )\n        }\n    }\n\n    resetToCreateHandler = () => {\n        this.setState({storedTx:null})\n    }\n\n    render(){\n        return(\n            <Layout>\n                <div style={{ marginTop: \"10px\" }}>\n                     {this.header()}\n                     {this.resetToCreateHandler()}\n                     {this.inputTx()}\n                     {this.outputTx()}                     \n                </div>\n            </Layout>\n\n        )\n    }\n}\nexport default CreateTransaction;"]},"metadata":{},"sourceType":"module"}